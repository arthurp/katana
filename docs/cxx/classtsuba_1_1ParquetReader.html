<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Katana: tsuba::ParquetReader Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Katana
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classtsuba_1_1ParquetReader.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classtsuba_1_1ParquetReader-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">tsuba::ParquetReader Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="ParquetReader_8h_source.html">ParquetReader.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtsuba_1_1ParquetReader_1_1ReadOpts.html">ReadOpts</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtsuba_1_1ParquetReader_1_1Slice.html">Slice</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2bf287da4285bf4e365ea6c4f1c8e602"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekatana.html#a7ef5f54fe30dfc7b2cf9294ac744d6bb">katana::Result</a>&lt; std::shared_ptr&lt; arrow::Table &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtsuba_1_1ParquetReader.html#a2bf287da4285bf4e365ea6c4f1c8e602">ReadTable</a> (const <a class="el" href="classkatana_1_1Uri.html">katana::Uri</a> &amp;uri)</td></tr>
<tr class="memdesc:a2bf287da4285bf4e365ea6c4f1c8e602"><td class="mdescLeft">&#160;</td><td class="mdescRight">read table from storage  <a href="classtsuba_1_1ParquetReader.html#a2bf287da4285bf4e365ea6c4f1c8e602">More...</a><br /></td></tr>
<tr class="separator:a2bf287da4285bf4e365ea6c4f1c8e602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae320252b01aeeb7b8685d22e9cbc187a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekatana.html#a7ef5f54fe30dfc7b2cf9294ac744d6bb">katana::Result</a>&lt; std::shared_ptr&lt; arrow::Table &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtsuba_1_1ParquetReader.html#ae320252b01aeeb7b8685d22e9cbc187a">ReadTable</a> (const <a class="el" href="classkatana_1_1Uri.html">katana::Uri</a> &amp;uri, const std::vector&lt; int32_t &gt; &amp;column_bitmap)</td></tr>
<tr class="memdesc:ae320252b01aeeb7b8685d22e9cbc187a"><td class="mdescLeft">&#160;</td><td class="mdescRight">read part of a table from storage n.b.  <a href="classtsuba_1_1ParquetReader.html#ae320252b01aeeb7b8685d22e9cbc187a">More...</a><br /></td></tr>
<tr class="separator:ae320252b01aeeb7b8685d22e9cbc187a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa212dd624e35199fe5d07109f44bbf79"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekatana.html#a7ef5f54fe30dfc7b2cf9294ac744d6bb">katana::Result</a>&lt; std::shared_ptr&lt; arrow::Table &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtsuba_1_1ParquetReader.html#aa212dd624e35199fe5d07109f44bbf79">ReadColumn</a> (const <a class="el" href="classkatana_1_1Uri.html">katana::Uri</a> &amp;uri, int32_t column_idx)</td></tr>
<tr class="memdesc:aa212dd624e35199fe5d07109f44bbf79"><td class="mdescLeft">&#160;</td><td class="mdescRight">read a column part of a table from storage n.b.  <a href="classtsuba_1_1ParquetReader.html#aa212dd624e35199fe5d07109f44bbf79">More...</a><br /></td></tr>
<tr class="separator:aa212dd624e35199fe5d07109f44bbf79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36907c950cb2ca47249ad0a6906d0ebd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekatana.html#a7ef5f54fe30dfc7b2cf9294ac744d6bb">katana::Result</a>&lt; int32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtsuba_1_1ParquetReader.html#a36907c950cb2ca47249ad0a6906d0ebd">NumColumns</a> (const <a class="el" href="classkatana_1_1Uri.html">katana::Uri</a> &amp;uri)</td></tr>
<tr class="memdesc:a36907c950cb2ca47249ad0a6906d0ebd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of columns for the table stored in a parquet file.  <a href="classtsuba_1_1ParquetReader.html#a36907c950cb2ca47249ad0a6906d0ebd">More...</a><br /></td></tr>
<tr class="separator:a36907c950cb2ca47249ad0a6906d0ebd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5f19601700058275be501527d1471cc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacekatana.html#a7ef5f54fe30dfc7b2cf9294ac744d6bb">katana::Result</a>&lt; int64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtsuba_1_1ParquetReader.html#af5f19601700058275be501527d1471cc">NumRows</a> (const <a class="el" href="classkatana_1_1Uri.html">katana::Uri</a> &amp;uri)</td></tr>
<tr class="memdesc:af5f19601700058275be501527d1471cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of rows for the table stored in a parquet file.  <a href="classtsuba_1_1ParquetReader.html#af5f19601700058275be501527d1471cc">More...</a><br /></td></tr>
<tr class="separator:af5f19601700058275be501527d1471cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aed04ea2ea9d21a432ad0df9989a5934a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespacekatana.html#a7ef5f54fe30dfc7b2cf9294ac744d6bb">katana::Result</a>&lt; std::unique_ptr&lt; <a class="el" href="classtsuba_1_1ParquetReader.html">ParquetReader</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtsuba_1_1ParquetReader.html#aed04ea2ea9d21a432ad0df9989a5934a">Make</a> (<a class="el" href="structtsuba_1_1ParquetReader_1_1ReadOpts.html">ReadOpts</a> opts=<a class="el" href="structtsuba_1_1ParquetReader_1_1ReadOpts.html#aa28dd1b7d3dda1298352a30fde2e061b">ReadOpts::Defaults</a>())</td></tr>
<tr class="memdesc:aed04ea2ea9d21a432ad0df9989a5934a"><td class="mdescLeft">&#160;</td><td class="mdescRight">build a reader that will read a table from storage location optionally reading only part of the table.  <a href="classtsuba_1_1ParquetReader.html#aed04ea2ea9d21a432ad0df9989a5934a">More...</a><br /></td></tr>
<tr class="separator:aed04ea2ea9d21a432ad0df9989a5934a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aed04ea2ea9d21a432ad0df9989a5934a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed04ea2ea9d21a432ad0df9989a5934a">&#9670;&nbsp;</a></span>Make()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ParquetReader_8cpp.html#a1b2819e46ba0106e4d0d8985d1061615">Result</a>&lt; std::unique_ptr&lt; <a class="el" href="classtsuba_1_1ParquetReader.html">tsuba::ParquetReader</a> &gt; &gt; tsuba::ParquetReader::Make </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtsuba_1_1ParquetReader_1_1ReadOpts.html">ReadOpts</a>&#160;</td>
          <td class="paramname"><em>opts</em> = <code><a class="el" href="structtsuba_1_1ParquetReader_1_1ReadOpts.html#aa28dd1b7d3dda1298352a30fde2e061b">ReadOpts::Defaults</a>()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>build a reader that will read a table from storage location optionally reading only part of the table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">opts</td><td>an opt structure detailing how reads should behave (see the <a class="el" href="structtsuba_1_1ParquetReader_1_1ReadOpts.html">ReadOpts</a> struct definition for details) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a36907c950cb2ca47249ad0a6906d0ebd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36907c950cb2ca47249ad0a6906d0ebd">&#9670;&nbsp;</a></span>NumColumns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ParquetReader_8cpp.html#a1b2819e46ba0106e4d0d8985d1061615">Result</a>&lt; int32_t &gt; tsuba::ParquetReader::NumColumns </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkatana_1_1Uri.html">katana::Uri</a> &amp;&#160;</td>
          <td class="paramname"><em>uri</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the number of columns for the table stored in a parquet file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uri</td><td>an identifier for a parquet file </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af5f19601700058275be501527d1471cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5f19601700058275be501527d1471cc">&#9670;&nbsp;</a></span>NumRows()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ParquetReader_8cpp.html#a1b2819e46ba0106e4d0d8985d1061615">Result</a>&lt; int64_t &gt; tsuba::ParquetReader::NumRows </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkatana_1_1Uri.html">katana::Uri</a> &amp;&#160;</td>
          <td class="paramname"><em>uri</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the number of rows for the table stored in a parquet file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uri</td><td>an identifier for a parquet file </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa212dd624e35199fe5d07109f44bbf79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa212dd624e35199fe5d07109f44bbf79">&#9670;&nbsp;</a></span>ReadColumn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ParquetReader_8cpp.html#a1b2819e46ba0106e4d0d8985d1061615">Result</a>&lt; std::shared_ptr&lt; arrow::Table &gt; &gt; tsuba::ParquetReader::ReadColumn </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkatana_1_1Uri.html">katana::Uri</a> &amp;&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>column_idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>read a column part of a table from storage n.b. </p>
<p>support for the <code>slice</code> read option is missing here </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uri</td><td>an identifier for a parquet file </td></tr>
    <tr><td class="paramname">column_idx</td><td>must be a valid column index for the table in that file </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2bf287da4285bf4e365ea6c4f1c8e602"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bf287da4285bf4e365ea6c4f1c8e602">&#9670;&nbsp;</a></span>ReadTable() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ParquetReader_8cpp.html#a1b2819e46ba0106e4d0d8985d1061615">Result</a>&lt; std::shared_ptr&lt; arrow::Table &gt; &gt; tsuba::ParquetReader::ReadTable </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkatana_1_1Uri.html">katana::Uri</a> &amp;&#160;</td>
          <td class="paramname"><em>uri</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>read table from storage </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uri</td><td>an identifier for a parquet file </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae320252b01aeeb7b8685d22e9cbc187a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae320252b01aeeb7b8685d22e9cbc187a">&#9670;&nbsp;</a></span>ReadTable() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ParquetReader_8cpp.html#a1b2819e46ba0106e4d0d8985d1061615">Result</a>&lt; std::shared_ptr&lt; arrow::Table &gt; &gt; tsuba::ParquetReader::ReadTable </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classkatana_1_1Uri.html">katana::Uri</a> &amp;&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; int32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>column_bitmap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>read part of a table from storage n.b. </p>
<p>support for the <code>slice</code> read option is missing here </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uri</td><td>an identifier for a parquet file </td></tr>
    <tr><td class="paramname">column_bitmap</td><td>must have the same length as the number of columns in the table in the parquet file. The loaded table will only contain columns at indexes that are true in the bitmap </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="ParquetReader_8h_source.html">ParquetReader.h</a></li>
<li><a class="el" href="ParquetReader_8cpp.html">ParquetReader.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacetsuba.html">tsuba</a></li><li class="navelem"><a class="el" href="classtsuba_1_1ParquetReader.html">ParquetReader</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
