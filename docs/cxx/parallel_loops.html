<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Katana: Parallel Loops</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Katana
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('parallel_loops.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Parallel Loops </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#parallel_loop_intro">Introduction</a></li>
<li class="level1"><a href="#katana_do_all_manual">katana::do_all</a><ul><li class="level2"><a href="#workstealing">Work Stealing</a></li>
</ul>
</li>
<li class="level1"><a href="#katana_for_each_manual">katana::for_each</a></li>
<li class="level1"><a href="#katana_on_each_manual">katana::on_each</a></li>
<li class="level1"><a href="#special_loops">Specialized Parallel Loops</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="parallel_loop_intro"></a>
Introduction</h1>
<p>Galois includes three primary types of parallel loop constructs. These parallel loops provide an interface for running a given operator with various schedules. The type of parallel loop needed depends on the properties of the operator being run.</p>
<p>The three primary parallel loops in Galois are:</p>
<ul>
<li>do_all</li>
<li>for_each</li>
<li>on_each</li>
</ul>
<p>At a high level, <a class="el" href="namespacekatana.html#ab9ea3b9de54b0c2f223eb585f4aefaff">katana::do_all</a> is appropriate when a range of completely independent tasks need to be run. <a class="el" href="namespacekatana.html#a2eb855d38b5753d67def813f9a7edb81">katana::for_each</a> is appropriate in more general cases like when tasks may conflict, per-iteration allocation is needed within the operator being run, a special scheduling is required, or new work can be discovered as the loop runs. <a class="el" href="namespacekatana.html#ae59063ef456c98bb4731b6ec5d9655d9">katana::on_each</a> is a lower level interface for running an operation on each thread.</p>
<h1><a class="anchor" id="katana_do_all_manual"></a>
katana::do_all</h1>
<p><a class="el" href="namespacekatana.html#ab9ea3b9de54b0c2f223eb585f4aefaff">katana::do_all</a> divides the work items evenly among the threads available. It supports work stealing, but does not include it by default. It assumes that no conflict detection is needed. It is often used in cases like topology-driven algorithms that iterate over the nodes in a graph. It is also often used in cases where a group of independent work items need to be performed.</p>
<p><a class="el" href="namespacekatana.html#ab9ea3b9de54b0c2f223eb585f4aefaff">katana::do_all</a> requires the following inputs:</p>
<ul>
<li>A range of work items</li>
<li>An operator to run on each work item</li>
</ul>
<p>The range of work items can be specified using an instance of <a class="el" href="namespacekatana.html#a664a7f49a65e22807577f6cc809a7827">katana::iterate</a>. It can be constructed from any of the following:</p>
<ul>
<li>A pair of iterators (begin and end)</li>
<li>A pair of unsigned integers for begin and end</li>
<li>An initializer list</li>
<li>A container that provides a forward iterator (or some more permissive type of iterator)</li>
</ul>
<p>The operator can be a lambda expression, an object with a call operator (a functor), or a function pointer. It must be able to be called with a single work item as its only argument. The operator must not throw exceptions into its surrounding context. As of this writing, C++ exceptions can not be safely thrown from an operator into the context where it is called.</p>
<p>If the range is a range of iterators, the work item will be a reference to whatever is obtained by dereferencing an iterator of the given type. If the range is a range of integers, the work item will be an integer.</p>
<p><a class="el" href="namespacekatana.html#ab9ea3b9de54b0c2f223eb585f4aefaff">katana::do_all</a> accepts the following optional parameters to enable/disable features:</p>
<ul>
<li><a class="el" href="structkatana_1_1steal.html">katana::steal</a>: Turn on work stealing.</li>
<li><a class="el" href="structkatana_1_1chunk__size.html">katana::chunk_size</a>: Set the unit of work stealing. Chunk size is 32 by default.</li>
<li><a class="el" href="structkatana_1_1loopname.html">katana::loopname</a>: Turn on the collection of performance statistics associated with the loop.</li>
<li><a class="el" href="structkatana_1_1more__stats.html">katana::more_stats</a>: Collect even more detailed performance statistics as the loop runs.</li>
<li><a class="el" href="structkatana_1_1no__stats.html">katana::no_stats</a>: Turn off the collection of performance statistics even when <a class="el" href="structkatana_1_1loopname.html">katana::loopname</a> is given.</li>
</ul>
<p>The following is an example from the tutorial of how to use <a class="el" href="namespacekatana.html#ab9ea3b9de54b0c2f223eb585f4aefaff">katana::do_all</a>. Note that, in this example, the range of work items given to <a class="el" href="namespacekatana.html#ab9ea3b9de54b0c2f223eb585f4aefaff">katana::do_all</a> corresponds to the outer loop range in the serial implementation. Also note that the operator passed to <a class="el" href="namespacekatana.html#ab9ea3b9de54b0c2f223eb585f4aefaff">katana::do_all</a> corresponds to the body of the loop in the serial implementation.</p>
<div class="fragment"><div class="line">  <a class="code" href="namespacekatana.html#ab9ea3b9de54b0c2f223eb585f4aefaff">katana::do_all</a>(</div>
<div class="line">      <a class="code" href="namespacekatana.html#a664a7f49a65e22807577f6cc809a7827">katana::iterate</a>(g.begin(), g.end()),  <span class="comment">// range</span></div>
<div class="line">      [&amp;](<a class="code" href="jaccard_8cpp.html#ac56cf62167e787bf1a4ff1e5b529e0b0">GNode</a> n) {                        <span class="comment">// operator</span></div>
<div class="line">        auto&amp; sum = g.getData(n);</div>
<div class="line">        sum = 0;</div>
<div class="line">        for (auto e : g.edges(n)) {</div>
<div class="line">          sum += g.getEdgeData(e);</div>
<div class="line">        }</div>
<div class="line">      },</div>
<div class="line">      <a class="code" href="structkatana_1_1loopname.html">katana::loopname</a>(<span class="stringliteral">&quot;sum_in_do_all_with_lambda&quot;</span>)  <span class="comment">// options</span></div>
<div class="line">  );</div>
<div class="ttc" id="ajaccard_8cpp_html_ac56cf62167e787bf1a4ff1e5b529e0b0"><div class="ttname"><a href="jaccard_8cpp.html#ac56cf62167e787bf1a4ff1e5b529e0b0">GNode</a></div><div class="ttdeci">Graph::Node GNode</div><div class="ttdef"><b>Definition:</b> jaccard.cpp:31</div></div>
<div class="ttc" id="anamespacekatana_html_a664a7f49a65e22807577f6cc809a7827"><div class="ttname"><a href="namespacekatana.html#a664a7f49a65e22807577f6cc809a7827">katana::iterate</a></div><div class="ttdeci">auto iterate(T &amp;container)</div><div class="ttdoc">Iterate returns a specialized range object for various container-like objects:</div><div class="ttdef"><b>Definition:</b> Range.h:296</div></div>
<div class="ttc" id="anamespacekatana_html_ab9ea3b9de54b0c2f223eb585f4aefaff"><div class="ttname"><a href="namespacekatana.html#ab9ea3b9de54b0c2f223eb585f4aefaff">katana::do_all</a></div><div class="ttdeci">void do_all(const Range &amp;range, FunctionTy &amp;&amp;fn, Args &amp;&amp;... args)</div><div class="ttdoc">Standard do-all loop.</div><div class="ttdef"><b>Definition:</b> Loops.h:69</div></div>
<div class="ttc" id="astructkatana_1_1loopname_html"><div class="ttname"><a href="structkatana_1_1loopname.html">katana::loopname</a></div><div class="ttdef"><b>Definition:</b> Traits.h:211</div></div>
</div><!-- fragment --><p> The full example is available at <a class="el" href="lonestar_2tutorial_examples_2GraphTraversalPullOperator_8cpp-example.html">lonestar/tutorial_examples/GraphTraversalPullOperator.cpp</a></p>
<h2><a class="anchor" id="workstealing"></a>
Work Stealing</h2>
<p>Work stealing is implemented hierarchically similar to <a class="el" href="namespacekatana.html#ae2871917f6d0efc6dbe0207c6baa2429">katana::PerThreadChunkFIFO</a>. Threads steal work within their own socket when they finish their local work, and only the socket leader can steal from outside its socket. The stealing amount is half of the rest work of the stolen thread. Below is an example of turning on work stealing for a <a class="el" href="namespacekatana.html#ab9ea3b9de54b0c2f223eb585f4aefaff" title="Standard do-all loop.">katana::do_all</a> loop.</p>
<div class="fragment"><div class="line">  <a class="code" href="namespacekatana.html#ab9ea3b9de54b0c2f223eb585f4aefaff">katana::do_all</a>(</div>
<div class="line">      <a class="code" href="namespacekatana.html#a664a7f49a65e22807577f6cc809a7827">katana::iterate</a>(graph), incrementNeighborsAtomically,</div>
<div class="line">      <a class="code" href="structkatana_1_1loopname.html">katana::loopname</a>(<span class="stringliteral">&quot;do_all_self_sync&quot;</span>), <a class="code" href="structkatana_1_1steal.html">katana::steal</a>(),</div>
<div class="line">      <a class="code" href="structkatana_1_1chunk__size.html">katana::chunk_size&lt;32&gt;</a>());</div>
<div class="ttc" id="astructkatana_1_1chunk__size_html"><div class="ttname"><a href="structkatana_1_1chunk__size.html">katana::chunk_size</a></div><div class="ttdoc">Specify chunk size for do_all_coupled &amp; do_all_choice at compile time or at runtime.</div><div class="ttdef"><b>Definition:</b> Traits.h:372</div></div>
<div class="ttc" id="astructkatana_1_1steal_html"><div class="ttname"><a href="structkatana_1_1steal.html">katana::steal</a></div><div class="ttdef"><b>Definition:</b> Traits.h:220</div></div>
</div><!-- fragment --><h1><a class="anchor" id="katana_for_each_manual"></a>
katana::for_each</h1>
<p><a class="el" href="namespacekatana.html#a2eb855d38b5753d67def813f9a7edb81">katana::for_each</a> is designed for cases where work items may be created dynamically or conflict detection between different threads is needed. It is built around parallel worklists with customizable scheduling policies, and is particularly useful in cases where</p>
<ul>
<li>Operators that touch disjoint sections of data can be executed concurrently.</li>
<li>The only strict dependencies are between a given work item and the work items it creates.</li>
</ul>
<p>The schedule is used to tell the runtime that the loop may run more quickly if certain work items are prioritized.</p>
<p><a class="el" href="namespacekatana.html#a2eb855d38b5753d67def813f9a7edb81">katana::for_each</a> requires the following arguments:</p>
<ul>
<li>A starting range of work items</li>
<li>An operator to apply to each work item</li>
</ul>
<p>The range of work items to start from is specified using an instance of <a class="el" href="namespacekatana.html#a664a7f49a65e22807577f6cc809a7827">katana::iterate</a>, as was the case with <a class="el" href="namespacekatana.html#ab9ea3b9de54b0c2f223eb585f4aefaff">katana::do_all</a>.</p>
<p>The operator can be a lambda expression, an object with a call operator (a functor), or a function pointer. The operator must be callable with the following arguments</p>
<ul>
<li>A work item</li>
<li>An lvalue reference to a <a class="el" href="classkatana_1_1UserContext.html">katana::UserContext</a></li>
</ul>
<p>The work item will have the same type as the iterators given to the loop do when dereferenced, but if integers are given instead of iterators, the work item will be an integer.</p>
<p>The reference to the <a class="el" href="classkatana_1_1UserContext.html">katana::UserContext</a> provides an interface that can be used within the body of the loop for creating new work items, performing conflict detection, and hosting per-iteration allocators. This user context is accessible to the user primarily so it can provide a means for users to add new work items to the underlying worklist. Although conflict detection is usually performed within the APIs of conflict-aware data structures, the user context also manages the locks acquired while a given operator runs.</p>
<p>The operator passed to <a class="el" href="namespacekatana.html#a2eb855d38b5753d67def813f9a7edb81">katana::for_each</a> is required to be cautious. In other words, the operator must acquire all the locks it will need before it modifies any data. In cases where an operator fails to acquire a lock, it will abort immediately, freeing any per-iteration allocations and releasing any locks it has already acquired. In these cases, if the operator is cautious, it is guaranteed to fail without leaving the shared data structure in an inconsistent state. The operator is also expected to not throw exceptions. As of this writing, C++ exceptions must not be thrown from an operator into the context where it is called.</p>
<p><a class="el" href="namespacekatana.html#a2eb855d38b5753d67def813f9a7edb81">katana::for_each</a> also can be called with various optional arguments:</p>
<ul>
<li><a class="el" href="structkatana_1_1loopname.html">katana::loopname</a>: Turn on the collection of performance statistics associated with the loop.</li>
<li><a class="el" href="structkatana_1_1more__stats.html">katana::more_stats</a>: Collect even more detailed performance statistics as the loop runs.</li>
<li><a class="el" href="structkatana_1_1no__stats.html">katana::no_stats</a>: Turn off the collection of performance statistics even when <a class="el" href="structkatana_1_1loopname.html">katana::loopname</a> is given.</li>
<li><a class="el" href="structkatana_1_1no__pushes.html">katana::no_pushes</a>: Disable pushing new work via the user context.</li>
<li><a class="el" href="structkatana_1_1disable__conflict__detection.html">katana::disable_conflict_detection</a>: Disable conflict detection in the Galois runtime.</li>
<li><a class="el" href="namespacekatana.html#a0a996c85bab3fdbf1afad32e8595db32">katana::wl</a>: Use the scheduling policy supplied in this argument to prioritize work items. The default one is <a class="el" href="namespacekatana.html#a16e52e589c5f15727849f9298bb0d178">katana::defaultWL</a>, which expands to <a class="el" href="namespacekatana.html#ab846f7bdd2bd0cecf06708c1806a668f" title="Distributed chunked FIFO.">katana::PerSocketChunkFIFO&lt;32&gt;</a> as of this writing. See <a class="el" href="scheduler.html">Scheduler</a> for details.</li>
<li><a class="el" href="structkatana_1_1per__iter__alloc.html">katana::per_iter_alloc</a>: Use per-iteration allocator for loop iterations. See <a class="el" href="mem_allocator.html">Memory Allocators</a> for details.</li>
</ul>
<p>The following example from the tutorial shows how to use <a class="el" href="namespacekatana.html#a2eb855d38b5753d67def813f9a7edb81">katana::for_each</a> with conflict detection. This example uses a push-style algorithm where each node adds an integer stored as edge data to the node data of its neighbors.</p>
<p>This shows how to do this with conflict detection enabled: </p><div class="fragment"><div class="line">  <span class="comment">//******************************************************</span></div>
<div class="line">  <span class="comment">// parallel traversal over a graph using katana::for_each</span></div>
<div class="line">  <span class="comment">// 1. push operator is specified using lambda expression</span></div>
<div class="line">  <span class="comment">// 2. for_each is named &quot;sum_in_for_each_with_push_operator&quot; to show stat</span></div>
<div class="line">  <span class="comment">// after this program finishes</span></div>
<div class="line">  initialize(g);</div>
<div class="line">  <a class="code" href="namespacekatana.html#a2eb855d38b5753d67def813f9a7edb81">katana::for_each</a>(</div>
<div class="line">      <a class="code" href="namespacekatana.html#a664a7f49a65e22807577f6cc809a7827">katana::iterate</a>(g.begin(), g.end()),  <span class="comment">// range</span></div>
<div class="line">      [&amp;](<a class="code" href="jaccard_8cpp.html#ac56cf62167e787bf1a4ff1e5b529e0b0">GNode</a> n, <span class="keyword">auto</span>&amp;) {                 <span class="comment">// operator</span></div>
<div class="line">        for (auto e : g.edges(n)) {         <span class="comment">// cautious point</span></div>
<div class="line">          auto dst = g.getEdgeDst(e);</div>
<div class="line">          g.getData(dst) += g.getEdgeData(e);</div>
<div class="line">        }</div>
<div class="line">      },</div>
<div class="line">      <a class="code" href="structkatana_1_1loopname.html">katana::loopname</a>(<span class="stringliteral">&quot;sum_in_for_each_with_push_operator&quot;</span>)  <span class="comment">// options</span></div>
<div class="line">  );</div>
<div class="ttc" id="anamespacekatana_html_a2eb855d38b5753d67def813f9a7edb81"><div class="ttname"><a href="namespacekatana.html#a2eb855d38b5753d67def813f9a7edb81">katana::for_each</a></div><div class="ttdeci">void for_each(const Range &amp;range, FunctionTy &amp;&amp;fn, Args &amp;&amp;... args)</div><div class="ttdoc">Galois unordered set iterator.</div><div class="ttdef"><b>Definition:</b> Loops.h:52</div></div>
</div><!-- fragment --><p> This shows how to do this without conflict detection: </p><div class="fragment"><div class="line">  <span class="comment">// define lambda expression as a varible for reuse</span></div>
<div class="line">  <span class="keyword">auto</span> sumEdgeWeightsAtomically = [&amp;](<a class="code" href="jaccard_8cpp.html#ac56cf62167e787bf1a4ff1e5b529e0b0">GNode</a> n) {</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> e : g.edges(n)) {</div>
<div class="line">      <span class="keyword">auto</span> dst = g.getEdgeDst(e);</div>
<div class="line">      <span class="keyword">auto</span>&amp; dstData = g.getData(dst);</div>
<div class="line">      <span class="keyword">auto</span> edgeWeight = g.getEdgeData(e);</div>
<div class="line">      __sync_fetch_and_add(&amp;dstData, edgeWeight);</div>
<div class="line">    }</div>
<div class="line">  };</div>
<div class="line"> </div>
<div class="line">  <span class="comment">//******************************************************</span></div>
<div class="line">  <span class="comment">// parallel traversal over a graph using katana::do_all w/o work stealing</span></div>
<div class="line">  <span class="comment">// 1. push operator uses atomic intrinsic</span></div>
<div class="line">  <span class="comment">// 2. do_all is named &quot;sum_in_do_all_with_push_atomic&quot; to show stat after this</span></div>
<div class="line">  <span class="comment">// program finishes</span></div>
<div class="line">  initialize(g);</div>
<div class="line">  <a class="code" href="namespacekatana.html#ab9ea3b9de54b0c2f223eb585f4aefaff">katana::do_all</a>(</div>
<div class="line">      <a class="code" href="namespacekatana.html#a664a7f49a65e22807577f6cc809a7827">katana::iterate</a>(g.begin(), g.end()),  <span class="comment">// range</span></div>
<div class="line">      sumEdgeWeightsAtomically              <span class="comment">// operator</span></div>
<div class="line">      ,</div>
<div class="line">      <a class="code" href="structkatana_1_1loopname.html">katana::loopname</a>(<span class="stringliteral">&quot;sum_in_do_all_with_push_atomic&quot;</span>)  <span class="comment">// options</span></div>
<div class="line">  );</div>
<div class="line"> </div>
<div class="line">  <span class="comment">//******************************************************</span></div>
<div class="line">  <span class="comment">// parallel traversal over a graph using katana::for_each</span></div>
<div class="line">  <span class="comment">// 1. push operator uses atomic intrinsic</span></div>
<div class="line">  <span class="comment">// 2. for_each is named &quot;sum_in_do_for_each_with_push_atomic&quot; to show stat</span></div>
<div class="line">  <span class="comment">// after this program finishes</span></div>
<div class="line">  initialize(g);</div>
<div class="line">  <a class="code" href="namespacekatana.html#a2eb855d38b5753d67def813f9a7edb81">katana::for_each</a>(</div>
<div class="line">      <a class="code" href="namespacekatana.html#a664a7f49a65e22807577f6cc809a7827">katana::iterate</a>(g.begin(), g.end()),                  <span class="comment">// range</span></div>
<div class="line">      [&amp;](<a class="code" href="jaccard_8cpp.html#ac56cf62167e787bf1a4ff1e5b529e0b0">GNode</a> n, <span class="keyword">auto</span>&amp;) { sumEdgeWeightsAtomically(n); }  <span class="comment">// operator</span></div>
<div class="line">      ,</div>
<div class="line">      <a class="code" href="structkatana_1_1loopname.html">katana::loopname</a>(<span class="stringliteral">&quot;sum_in_for_each_with_push_atomic&quot;</span>)  <span class="comment">// options</span></div>
<div class="line">      ,</div>
<div class="line">      <a class="code" href="structkatana_1_1no__pushes.html">katana::no_pushes</a>(), <a class="code" href="structkatana_1_1disable__conflict__detection.html">katana::disable_conflict_detection</a>());</div>
<div class="ttc" id="astructkatana_1_1disable__conflict__detection_html"><div class="ttname"><a href="structkatana_1_1disable__conflict__detection.html">katana::disable_conflict_detection</a></div><div class="ttdef"><b>Definition:</b> Traits.h:276</div></div>
<div class="ttc" id="astructkatana_1_1no__pushes_html"><div class="ttname"><a href="structkatana_1_1no__pushes.html">katana::no_pushes</a></div><div class="ttdef"><b>Definition:</b> Traits.h:250</div></div>
</div><!-- fragment --><p> Note that, since no new work is created and there are no conflicts between operators, this second example could just have well been implemented using <a class="el" href="namespacekatana.html#ab9ea3b9de54b0c2f223eb585f4aefaff">katana::do_all</a>. For more details, see <a class="el" href="lonestar_2tutorial_examples_2GraphTraversalPushOperator_8cpp-example.html">lonestar/tutorial_examples/GraphTraversalPushOperator.cpp</a>.</p>
<h1><a class="anchor" id="katana_on_each_manual"></a>
katana::on_each</h1>
<p><a class="el" href="namespacekatana.html#ae59063ef456c98bb4731b6ec5d9655d9">katana::on_each</a> is a lower level loop construct that simply calls the given operator from each of the threads in the Galois thread pool.</p>
<p>It requires an operator that accepts a thread id and the total number of threads.</p>
<p><a class="el" href="namespacekatana.html#ae59063ef456c98bb4731b6ec5d9655d9">katana::on_each</a> can also be called with two optional arguments:</p>
<ul>
<li><a class="el" href="structkatana_1_1loopname.html">katana::loopname</a>: Turn on the collection of performance statistics associated with the loop.</li>
<li><a class="el" href="structkatana_1_1more__stats.html">katana::more_stats</a>: Collect even more detailed performance statistics as the loop runs.</li>
<li><a class="el" href="structkatana_1_1no__stats.html">katana::no_stats</a>: Turn off the collection of performance statistics even when <a class="el" href="structkatana_1_1loopname.html">katana::loopname</a> is given.</li>
</ul>
<h1><a class="anchor" id="special_loops"></a>
Specialized Parallel Loops</h1>
<p>Galois provides the following specialized parallel loops.</p>
<ul>
<li>Deterministic loop iterator: schedule active work items deterministically and produce the same answer across different platforms. See <a class="el" href="tutorial.html#katana_deterministic_iterator">Deterministic Loop Iterator</a> for details.</li>
<li>ParaMeter loop iterator: measure the amount of parallelism during loop execution. See <a class="el" href="tutorial.html#katana_parameter_iterator">ParaMeter Loop Iterator</a> for details. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="Manual.html">Manual</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
